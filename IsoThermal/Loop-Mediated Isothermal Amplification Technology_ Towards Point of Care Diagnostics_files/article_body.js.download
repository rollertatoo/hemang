!function(t){var e=t(".article-content");t("#nav-article").buildNav({content:e}),t("#nav-article").floatingNav({content:e});var n=t("#artText .figure").length;n&&t("#figure-carousel-section").buildFigureCarousel({}),t.fn.populateFileSizes=function(e){n&&t(".file-size").each((function(n,i){var a=t(i),r=a.attr("data-doi"),o=a.attr("data-size"),l=e[r][o];a.text("("+function(t){for(var e=[" Bytes","KB","MB","GB","TB","PB"],n=e.indexOf("MB"),i=t,a=0;a<e.length&&i>=1e3;a++)i/=1e3;return(i=a<n?Math.round(i):Math.round(100*i)/100)+e[a]}(l)+")")}))},t(".table-download").on("click",(function(){var e=t(this).parent(),n=t(this).data("tableopen");return tableOpen(n,"CSV",e)})),t(".table-wrap .expand").on("click",(function(){var e=t(this).parent(),n=t(this).data("tableopen");return tableOpen(n,"HTML",e)})),t(".ref-tip").hover((function(){var e,n,i,a=t(this),r=a.position(),o=a.width(),l=a.text();n=(e=l).indexOf("["),i=e.indexOf("]"),l=-1===n&&-1===i?e:0===n&&-1===i?e.slice(1):-1===n&&-1!==i?e.slice(0,-1):e.slice(1,-1);var f,c,u,s=t("#ref"+l).html();c=11,s=-1===(u=(f=s).indexOf("reflinks"))?f:(c=u-c,f.slice(0,c));var d=t(".ref-tooltip"),h=d.find(".ref_tooltip-content").html(s),p=r.top,v=r.left;p=p-d.height()-20,v-=(d.width()-o)/2,d.css({top:p,left:v}).html(h).fadeIn("fast")}),(function(){t(".ref-tooltip").fadeOut("fast")}))}(jQuery);