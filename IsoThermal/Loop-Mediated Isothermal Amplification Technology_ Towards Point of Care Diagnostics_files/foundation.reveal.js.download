!function(e,t,n,s){"use strict";function i(e){var t=/fade/i.test(e),n=/pop/i.test(e);return{animate:t||n,pop:n,fade:t}}Foundation.libs.reveal={name:"reveal",version:"5.3.1",locked:!1,settings:{animation:"fadeAndPop",animation_speed:250,close_on_background_click:!0,close_on_esc:!0,dismiss_modal_class:"close-reveal-modal",bg_class:"reveal-modal-bg",root_element:"body",open:function(){},opened:function(){},close:function(){},closed:function(){},bg:e(".reveal-modal-bg"),css:{open:{opacity:0,visibility:"visible",display:"block"},close:{opacity:1,visibility:"hidden",display:"none"}}},init:function(t,n,s){e.extend(!0,this.settings,n,s),this.bindings(n,s)},events:function(e){var t=this,s=t.S;return s(this.scope).off(".reveal").on("click.fndtn.reveal","["+this.add_namespace("data-reveal-id")+"]:not([disabled])",(function(e){if(e.preventDefault(),!t.locked){var n=s(this),i=n.data(t.data_attr("reveal-ajax"));if(t.locked=!0,void 0===i)t.open.call(t,n);else{var o=!0===i?n.attr("href"):i;t.open.call(t,n,{url:o})}}})),s(n).on("click.fndtn.reveal",this.close_targets(),(function(e){if(e.preventDefault(),!t.locked){var n=s("["+t.attr_name()+"].open").data(t.attr_name(!0)+"-init"),i=s(e.target)[0]===s("."+n.bg_class)[0];if(i){if(!n.close_on_background_click)return;e.stopPropagation()}t.locked=!0,t.close.call(t,i?s("["+t.attr_name()+"].open"):s(this).closest("["+t.attr_name()+"]"))}})),s("["+t.attr_name()+"]",this.scope).length>0?s(this.scope).on("open.fndtn.reveal",this.settings.open).on("opened.fndtn.reveal",this.settings.opened).on("opened.fndtn.reveal",this.open_video).on("close.fndtn.reveal",this.settings.close).on("closed.fndtn.reveal",this.settings.closed).on("closed.fndtn.reveal",this.close_video):s(this.scope).on("open.fndtn.reveal","["+t.attr_name()+"]",this.settings.open).on("opened.fndtn.reveal","["+t.attr_name()+"]",this.settings.opened).on("opened.fndtn.reveal","["+t.attr_name()+"]",this.open_video).on("close.fndtn.reveal","["+t.attr_name()+"]",this.settings.close).on("closed.fndtn.reveal","["+t.attr_name()+"]",this.settings.closed).on("closed.fndtn.reveal","["+t.attr_name()+"]",this.close_video),!0},key_up_on:function(e){var t=this;return t.S("body").off("keyup.fndtn.reveal").on("keyup.fndtn.reveal",(function(e){var n=t.S("["+t.attr_name()+"].open"),s=n.data(t.attr_name(!0)+"-init")||t.settings;s&&27===e.which&&s.close_on_esc&&!t.locked&&t.close.call(t,n)})),!0},key_up_off:function(e){return this.S("body").off("keyup.fndtn.reveal"),!0},open:function(t,n){var s,i=this;e("body").css("overflow","hidden"),t?void 0!==t.selector?s=i.S("#"+t.data(i.data_attr("reveal-id"))).first():(s=i.S(this.scope),n=t):s=i.S(this.scope);var o=s.data(i.attr_name(!0)+"-init");if(o=o||this.settings,s.hasClass("open")&&t.attr("data-reveal-id")==s.attr("id"))return i.close(s);if(!s.hasClass("open")){var a=i.S("["+i.attr_name()+"].open");if(void 0===s.data("css-top")&&s.data("css-top",parseInt(s.css("top"),10)).data("offset",this.cache_offset(s)),this.key_up_on(s),s.trigger("open").trigger("open.fndtn.reveal"),a.length<1&&this.toggle_bg(s,!0),"string"==typeof n&&(n={url:n}),void 0!==n&&n.url){var r=void 0!==n.success?n.success:null;e.extend(n,{success:function(t,n,d){e.isFunction(r)&&r(t,n,d),s.html(t),i.S(s).foundation("section","reflow"),i.S(s).children().foundation(),a.length>0&&i.hide(a,o.css.close),i.show(s,o.css.open)}}),e.ajax(n)}else a.length>0&&this.hide(a,o.css.close),this.show(s,o.css.open)}},close:function(t){t=t&&t.length?t:this.S(this.scope);var n=this.S("["+this.attr_name()+"].open"),s=t.data(this.attr_name(!0)+"-init")||this.settings;e("body").css("overflow","scroll"),n.length>0&&(this.locked=!0,this.key_up_off(t),t.trigger("close").trigger("close.fndtn.reveal"),this.toggle_bg(t,!1),this.hide(n,s.css.close,s))},close_targets:function(){var e="."+this.settings.dismiss_modal_class;return this.settings.close_on_background_click?e+", ."+this.settings.bg_class:e},toggle_bg:function(t,n){0===this.S("."+this.settings.bg_class).length&&(this.settings.bg=e("<div />",{class:this.settings.bg_class}).appendTo("body").hide());var i=this.settings.bg.filter(":visible").length>0;n!=i&&((n==s?i:!n)?this.hide(this.settings.bg):this.show(this.settings.bg))},show:function(n,s){if(s){var o=(c=n.data(this.attr_name(!0)+"-init")||this.settings).root_element;if(0===n.parent(o).length){var a=n.wrap('<div style="display: none;" />').parent();n.on("closed.fndtn.reveal.wrapped",(function(){n.detach().appendTo(a),n.unwrap().unbind("closed.fndtn.reveal.wrapped")})),n.detach().appendTo(o)}var r=i(c.animation);if(r.animate||(this.locked=!1),r.pop){s.top=e(t).scrollTop()-n.data("offset")+"px";var d={top:e(t).scrollTop(),opacity:1};return setTimeout(function(){return n.css(s).animate(d,c.animation_speed,"linear",function(){this.locked=!1,n.trigger("opened").trigger("opened.fndtn.reveal")}.bind(this)).addClass("open")}.bind(this),c.animation_speed/2)}return r.fade?(s.top=e(t).scrollTop(),d={opacity:1},setTimeout(function(){return n.css(s).animate(d,c.animation_speed,"linear",function(){this.locked=!1,n.trigger("opened").trigger("opened.fndtn.reveal")}.bind(this)).addClass("open")}.bind(this),c.animation_speed/2)):n.css(s).show().css({opacity:1}).addClass("open").trigger("opened").trigger("opened.fndtn.reveal")}var c;return i((c=this.settings).animation).fade?n.fadeIn(c.animation_speed/2):(this.locked=!1,n.show())},hide:function(n,s){if(s){var o=i((r=(r=n.data(this.attr_name(!0)+"-init"))||this.settings).animation);if(o.animate||(this.locked=!1),o.pop){var a={top:-e(t).scrollTop()-n.data("offset")+"px",opacity:0};return setTimeout(function(){return n.animate(a,r.animation_speed,"linear",function(){this.locked=!1,n.css(s).trigger("closed").trigger("closed.fndtn.reveal")}.bind(this)).removeClass("open")}.bind(this),r.animation_speed/2)}return o.fade?(a={opacity:0},setTimeout(function(){return n.animate(a,r.animation_speed,"linear",function(){this.locked=!1,n.css(s).trigger("closed").trigger("closed.fndtn.reveal")}.bind(this)).removeClass("open")}.bind(this),r.animation_speed/2)):n.hide().css(s).removeClass("open").trigger("closed").trigger("closed.fndtn.reveal")}var r;return i((r=this.settings).animation).fade?n.fadeOut(r.animation_speed/2):n.hide()},close_video:function(t){var n=e(".flex-video",t.target),s=e("iframe",n);s.length>0&&(s.attr("data-src",s[0].src),s.attr("src",s.attr("src")),n.hide())},open_video:function(t){var n=e(".flex-video",t.target),i=n.find("iframe");if(i.length>0){if("string"==typeof i.attr("data-src"))i[0].src=i.attr("data-src");else{var o=i[0].src;i[0].src=s,i[0].src=o}n.show()}},data_attr:function(e){return this.namespace.length>0?this.namespace+"-"+e:e},cache_offset:function(e){var t=e.show().height()+parseInt(e.css("top"),10);return e.hide(),t},off:function(){e(this.scope).off(".fndtn.reveal")},reflow:function(){}}}(jQuery,window,window.document);