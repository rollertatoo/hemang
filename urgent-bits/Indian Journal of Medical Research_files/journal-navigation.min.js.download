"use strict";function JournalNavigation(){var t,e,i="js-dropdown-toggle";function n(t){if(t.children){var e='<li class="'.concat(t.additionalClass,' dropdown">\n                    <a href="#" class="dropdown-toggle ').concat(i,'" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">').concat(t.title,'<i class="fa"></i></a>\n                    <ul class="dropdown-menu">\n                        ').concat(t.children.map(t=>(function t(e){return'<li class="'.concat(e.additionalClass,' dynamic">\n                 <a class="dynamic menu-item ms-core-listMenu-item ms-displayInline ms-navedit-linkNode" tabindex="0" href=" ').concat(e.url?e.url:"#",'">\n                     <span class="additional-background ms-navedit-flyoutArrow">\n                         <span class="menu-item-text">').concat(e.title,"</span>\n                     </span>\n                 </a>\n                ").concat(e.children?'<ul class="">'.concat(e.children.map(e=>t(e)).join(""),"</ul>"):"","\n                </li>")})(t)).join(""),"\n                    </ul>\n                </li>");return i="",e}return'<li class="'.concat(t.additionalClass,'">\n                    <a class="static menu-item ms-core-listMenu-item ms-displayInline ms-navedit-linkNode" tabindex="0" href="').concat(t.url,'">\n                        <span class="additional-background ms-navedit-flyoutArrow">\n                            <span class="menu-item-text">').concat(t.title,"</span>\n                        </span>\n                    </a>\n                </li>")}function s(t){var e=[];return $(t).children("li").each(function(){var t=function(t){const e={};for(let i=0;i<t.children.length;i++){const n=t.children[i],o=t.children[i].tagName;"A"===o||"SPAN"===o?("A"===o&&(e.url=n.href),e.title=n.getElementsByClassName("menu-item-text")[0].textContent||"",e.additionalClass=n.getAttribute("title")||""):"UL"===o&&(e.children=s(t.children[i]))}return e}(this);e.push(t)}),e}function o(t){t?($(".main-nav-hover-overlay").addClass("main-nav-hover-overlay-hover"),$("#navActionButtons").css({display:"flex"})):($(".main-nav-hover-overlay").removeClass("main-nav-hover-overlay-hover"),$("#navActionButtons").css({display:"none"}))}this.init=function(){var i;t=$('ul[id$="RootAspMenu"]'),e=s(t),function(){for($('div[id$="TopNavigationMenu"]').removeClass("noindex ms-core-listMenu-horizontalBox"),t.removeClass("root ms-core-listMenu-root static").addClass("nav navbar-nav");t.get(0).lastChild;)t.get(0).removeChild(t.get(0).lastChild);for(var i=0;i<e.length;i++)t.append(n(e[i]))}(),i=!1,$("#fatJuicy").on("click",function(){i?(o(!1),i=!1):(o(!0),i=!0)}),t.on("mouseover",function(){o(!0)}).on("mouseout",function(){!$("li.dropdown").hasClass("open")&&viewportWith()>=$lgMin&&o(!1)}),$("li.dropdown").on("addClass toggleClass removeClass",function(t,e,i){"removeClass"==t.type&&viewportWith()>=$lgMin&&o(!1)}),$("[id$=TopNavigationMenu]").on("shown.bs.collapse",function(t){$(".js-dropdown-toggle").dropdown("toggle","open")})}}class Sticky{init(){this._stickyBanner=document.querySelector(".top-banner"),this._stickyHeader=document.querySelector(".header"),this._mainContainer=document.querySelector("#main-container"),this._mainContainerContent=document.querySelector("#main-container-content"),this._sharePointMenu=document.querySelector("#ctl00_SharePointActionsContainer"),this._mainNavigation=document.querySelector("#main-nav"),this._stickySearchBtn=document.querySelector(".sticky-search"),this._stickySearch=document.querySelector(".search-v2"),this._topMicrobar=document.querySelector(".top-microbar-container"),this._headerLayoutBottom=document.querySelector(".header__layout-bottom"),this._userMenuLinkLogin=document.querySelector(".user-menu__link--login"),this._headerElements=[this._sharePointMenu,this._topMicrobar,this._stickyHeader],this._stickyHeightWithoutBanner=getStickyHeight(this._headerElements),this._stickyHeight=this._stickyHeightWithoutBanner,window.pageYOffset<=this._stickyHeightWithoutBanner?(this._scrolled=!0,this.handleUserScroll()):this._scrolled=!1,this._scrolled=!1,this._userPunishment=!0,window.addEventListener("scroll",this.handleUserScroll.bind(this)),window.addEventListener("resize",this.unstickOnMobile.bind(this)),this._stickySearchBtn.addEventListener("click",this.showSearchField.bind(this))}handleUserScroll(){this._scrolled=!0,this.hideSearchField(),this._stickyHeight=this._stickyHeightWithoutBanner+this._stickyBanner.clientHeight,this._stickyPadding=this._stickyHeight-this._mainNavigation.clientHeight,window.pageYOffset<this._stickyHeight||window.innerWidth<768||0===window.pageYOffset?(this._stickyHeader.classList.remove("fixed"),this._mainContainerContent.style.paddingTop=""):(this._stickyHeader.classList.add("fixed"),this._mainContainerContent.style.paddingTop="".concat(this._stickyPadding,"px")),this.shiftStickyHeader()}shiftStickyHeader(){const t=document.querySelector(".advertisement-content_top.top-banner.stick-top");null!==t&&this._stickyHeader.classList.contains("fixed")?this._stickyHeader.style.top="".concat(getComputedStyle(t).height):this._stickyHeader.style.top=""}unstickOnMobile(){this.hideSearchField(),window.innerWidth<768&&(this._stickyHeader.classList.remove("fixed"),this._mainContainerContent.style.paddingTop="")}unstickNavigation(){this._userPunishment=!1,this.hideSearchField(),this._scrolled?this._mainContainerContent.style.paddingTop="".concat(this._stickyHeight,"px"):(this._stickyHeader.classList.remove("fixed"),this._mainContainerContent.style.paddingTop="")}showSearchField(t){t.preventDefault(),this._stickySearchBtn.classList.toggle("active"),this._stickySearch.classList.toggle("active")}hideSearchField(){this._stickySearchBtn.classList.remove("active"),this._stickySearch.classList.remove("active")}}const getStickyHeight=t=>t.filter(t=>null!==t).reduce((t,e)=>t+checkHeight(e),0),checkHeight=t=>t.clientHeight||0,stickyInit=t=>{const e=document.querySelector(".advertisement-content_top"),i=document.querySelector(".header");if(e&&i){new Sticky(t).init()}};if("complete"===document.readyState)window.setTimeout(()=>stickyInit());else{const t=()=>{document.removeEventListener("DOMContentLoaded",t),removeEventListener("load",t),window.setTimeout(()=>stickyInit())};document.addEventListener("DOMContentLoaded",t),addEventListener("load",t)}function addBackTopLinkClickListener(){var t=document.querySelector(".ejp-footer__back-to-top-link");t&&t.addEventListener("click",function(t){return t.preventDefault(),$("body,html").animate({scrollTop:0},1e3),!1})}document.addEventListener("DOMContentLoaded",addBackTopLinkClickListener);