;;function closeDropdown(e){(isGatingPopupVisible()&&ejpAnalytics.track("Gated Login Abandonment"),e)?($(e.target).parent().parent().removeClass("user-menu__item--popup-opened user-menu__item--popup-centered"),$(".user-menu__item--login-popup-container").removeClass("user-menu__item--popup-opened user-menu__item--popup-centered"),$(".header").removeClass("header--has-login-popup-opened header--has-login-popup-centered")):($(".user-menu__item").removeClass("user-menu__item--popup-opened user-menu__item--popup-centered"),$(".header").removeClass("header--has-login-popup-opened header--has-login-popup-centered"));$("#divPopupOverLay").hide()}function toggleDropdown(e){window.scrollTo({top:0,behavior:"smooth"}),setDefaultPopupsView();var r=$(e.currentTarget);if(r.hasClass("user-menu__item--login-popup-container")||$(".user-menu__item--register-popup-container").hasClass("user-menu__item--popup-opened")||ejpAnalytics.track("Registration Initiation"),$(".user-menu__item--popup-container").removeClass("user-menu__item--popup-opened"),$(".header").removeClass("header--has-login-popup-opened"),clearPostLoginAction(),r.hasClass("user-menu__item--popup-container")){if(e.currentTarget.querySelector("a.user-menu__link[target=_blank]"))return;r.toggleClass("user-menu__item--popup-opened"),r.hasClass("user-menu__item--login-popup-container")&&$(".header").toggleClass("header--has-login-popup-opened")}r.hasClass("user-menu-popup__link")&&($("."+r.data("popup")).addClass("user-menu__item--popup-opened"),"user-menu__item--login-popup-container"===r.data("popup")&&$(".header").addClass("header--has-login-popup-opened"))}function ForceRegisterFromSaveSearch(e){var r=$(e.target),o=r.data("isUserLoggedIn"),n=r.data("hasAlternativeAccountLinks"),p=r.data("loginPageUrl"),t=r.data("isMobileMode"),a=getSelectedItemsField().value;showLoginPopupIfRequired(o,t,n,p,null,PostLoginAction.SaveSearch,!0,a)}function showLoginPopupIfRequired(e,r,o,n,p,t){return showPopupIfRequired(e,r,o,n,p,t,!(6<arguments.length&&void 0!==arguments[6])||arguments[6],7<arguments.length&&void 0!==arguments[7]?arguments[7]:"",8<arguments.length&&void 0!==arguments[8]?arguments[8]:"",9<arguments.length&&void 0!==arguments[9]?arguments[9]:"",10<arguments.length&&void 0!==arguments[10]&&arguments[10],11<arguments.length&&void 0!==arguments[11]&&arguments[11],"user-menu-popup--login","user-menu__item--login-popup-container")}function showRegisterPopupIfRequired(e,r,o,n,p,t){return showPopupIfRequired(e,r,o,n,p,t,!(6<arguments.length&&void 0!==arguments[6])||arguments[6],7<arguments.length&&void 0!==arguments[7]?arguments[7]:"",8<arguments.length&&void 0!==arguments[8]?arguments[8]:"",9<arguments.length&&void 0!==arguments[9]?arguments[9]:"",10<arguments.length&&void 0!==arguments[10]&&arguments[10],11<arguments.length&&void 0!==arguments[11]&&arguments[11],"user-menu-popup--register","user-menu__item--register-popup-container")}function showPopupIfRequired(e,r,o,n,p,t){var a=7<arguments.length&&void 0!==arguments[7]?arguments[7]:"",u=8<arguments.length&&void 0!==arguments[8]?arguments[8]:"",s=9<arguments.length&&void 0!==arguments[9]?arguments[9]:"",i=12<arguments.length&&void 0!==arguments[12]?arguments[12]:"",d=13<arguments.length&&void 0!==arguments[13]?arguments[13]:"";if(!(!(6<arguments.length&&void 0!==arguments[6])||arguments[6])||r)return(10<arguments.length&&void 0!==arguments[10]&&arguments[10]||e||11<arguments.length&&void 0!==arguments[11]&&arguments[11])&&p?(p(),!0):(window.location=n,!1);if(e)return p&&p(),!0;o?window.location=n:0<$("."+i).length?(""===a&&""!==u&&""!==s&&(a="Image|"+u+"|"+s+"|"),setPostLoginAction(t,a),showCenteredPopup(d)):window.location=n;return!1}function showLoginPopupIfRequiredOnArtcileViewerLoading(e,r,o,n){if(o&&r&&!e)return window.location=n,!1;o&&!e&&0<$(".user-menu-popup--login").length&&showLoginPopupCentered();return!1}function showLoginOrRegisterPopupIfRequired(e,r,o,n,p,t){!o||!n||e||r||t||(p?0<$(".user-menu-popup--login").length&&showCenteredPopup("user-menu__item--login-popup-container"):0<$(".user-menu-popup--register").length&&showCenteredPopup("user-menu__item--register-popup-container"));return!1}function showLoginPopupCentered(){showCenteredPopup("user-menu__item--login-popup-container")}function showCenteredPopup(e){var r=$("."+e);0<r.length&&($(".user-menu__item").removeClass("user-menu__item--popup-opened user-menu__item--popup-centered"),$(".user-menu-popup").parent().removeClass("user-menu__item--popup-centered"),$(".header").removeClass("header--has-login-popup-opened header--has-login-popup-centered"),r.addClass("user-menu__item--popup-centered"),r.hasClass("user-menu__item--login-popup-container")&&$(".header").addClass("header--has-login-popup-centered"),$("#divPopupOverLay").show(),"undefined"!==navigator.userLanguage&&"undefined"!==navigator.systemLanguage&&navigator.userAgent.match(/trident/i)&&(""===$(".user-name-email-address-login-popup-form").val()&&($(".user-login-popup__username-error").html(""),$(".wk-icon-circle-login-popup-user-name").hide()),$(".user-name-email-address-reg-form").attr("placeholder","Email or Username"),$(".user-password-reg-form").attr("placeholder","Password"),$(".user-name-fn-reg-form").attr("placeholder","First Name"),$(".user-name-ln-reg-form").attr("placeholder","Last Name"),$(".user-zip-code-reg-form").attr("placeholder","Zip Code"),$(".user-name-email-address-reg-form").focus(function(){$(".user-name-email-address-reg-form").attr("placeholder",""),$(".user-password-reg-form").attr("placeholder","Password"),$(".user-name-fn-reg-form").attr("placeholder","First Name"),$(".user-name-ln-reg-form").attr("placeholder","Last Name"),$(".user-zip-code-reg-form").attr("placeholder","Zip Code")}),$(".user-password-reg-form").focus(function(){$(".user-password-reg-form").attr("placeholder",""),$(".user-name-email-address-reg-form").attr("placeholder","Email or Username"),$(".user-name-fn-reg-form").attr("placeholder","First Name"),$(".user-name-ln-reg-form").attr("placeholder","Last Name"),$(".user-zip-code-reg-form").attr("placeholder","Zip Code")}),$(".user-name-fn-reg-form").focus(function(){$(".user-name-fn-reg-form").attr("placeholder",""),$(".user-name-email-address-reg-form").attr("placeholder","Email or Username"),$(".user-password-reg-form").attr("placeholder","Password"),$(".user-name-ln-reg-form").attr("placeholder","Last Name"),$(".user-zip-code-reg-form").attr("placeholder","Zip Code")}),$(".user-name-ln-reg-form").focus(function(){$(".user-name-ln-reg-form").attr("placeholder",""),$(".user-name-email-address-reg-form").attr("placeholder","Email or Username"),$(".user-password-reg-form").attr("placeholder","Password"),$(".user-name-fn-reg-form").attr("placeholder","First Name"),$(".user-zip-code-reg-form").attr("placeholder","Zip Code")}),$(".user-zip-code-reg-form").focus(function(){$(".user-zip-code-reg-form").attr("placeholder",""),$(".user-name-email-address-reg-form").attr("placeholder","Email or Username"),$(".user-password-reg-form").attr("placeholder","Password"),$(".user-name-fn-reg-form").attr("placeholder","First Name"),$(".user-name-ln-reg-form").attr("placeholder","Last Name")})))}function isGatingPopupVisible(){return $(".user-menu__item--popup-centered .user-menu-popup").is(":visible")}$("body").on("click",".user-registration__submit-btn",function(e){isGatingPopupVisible()?document.cookie="LoginFromGating=true":document.cookie="LoginFromGating=false"}),$("body").on("click","#lnkUserAccount",function(e){$(".user-menu__item--popup-opened").removeClass("user-menu__item--popup-opened"),$(".header").removeClass("header--has-login-popup-opened")}),$("body").on("click",".user-menu-popup",function(e){e.stopPropagation()}),$("body").on("click",".user-menu__item--popup-container",function(e){formSource="Masthead Dropdown",$(".user-menu__link--register").attr("id","register-popup"),toggleDropdown(e)}),$("body").on("click",".user-menu-popup__link",function(e){e.stopPropagation(),toggleDropdown(e)}),$("body").on("click",".user-menu-popup__link-centered-popup",function(e){e.stopPropagation(),e.preventDefault(),"user-menu__item--register-popup-container"===$(e.currentTarget).data("popup")&&isGatingPopupVisible()&&(window.formSource="Gated Content",ejpAnalytics.track("Registration Initiation")),showCenteredPopup(e.currentTarget.dataset.popup)}),$("body").on("click",".user-menu-popup__close",function(e){e.stopPropagation(),closeDropdown(e)}),$("body").on("click","#divPopupOverLay",function(e){e.stopPropagation(),closeDropdown()});